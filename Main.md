# Entity Framework

> Методичка по ORM от Microsoft. Это средство позволяет легко и безболезненно работать с данными в базе данных, оперируя терминами объектно-ориентированного программирования.
>
> Актуальные версии на момент написания методички -- EntityFramework  6.2.0, Visual Studio 2017. Вероятно, что если вы читаете эти материалы в далёком будущем, у вас всё не так, как тут расписано. :disappointed:

## Введение

### Проблема семантического разрыва

C# является объектно-ориентированным языком, в котором все данные представлены в виде объектов классов. В то же время реляционные базы данных представляют собой таблицы однородных данных со связями между ними. Получается, что поля одного объекта могут храниться в разных таблицах базы данных. Это вызывает значительные проблемы в работе программистов, а также, значительно замедляет информационную систему: приходится вычитывать и сохранять данные в реляционной форме, а обрабатывать в объектной.

Проблема хранения объектно-ориентированных данных в реляционных таблицах и называется **проблемой семантического разрыва**.

### Что такое Entity Framework

**Entity framework** является ORM от Microsoft. Использование EF позволяет повысить уровень абстракции от базы данных, избежать непосредственной работы с запросами. Говоря проще, Entity Framework создан, чтобы значительно облегчить жизнь каждому программисту. С помощью EF, разработчик может работать с данными в системе, используя объекты классов предметной области. Использование EF позволяет при необходимости использовать различные СУБД, в то время как код информационной системы остаётся неизменным. Для выборки из БД Entity Framework использует **LINQ-запросы**. 

### Подходы взаимодействия с базой данных

Entity Framework предполагает три возможных способа взаимодействия с базой данных:

* **Database first**: разработчик создаёт реляционную базу данных, затем, по базе данных, Entity Framework создает набор классов, которые отражают её модель и саму модель;
* **Model first**: сначала разработчик создает модель базы данных, по которой затем Entity Framework создает реальную базу данных на сервере и классы модели в приложении;
* **Code first**: разработчик создает классы модели данных, которые будут храниться в БД, а затем Entity Framework по этой модели генерирует базу данных и ее таблицы

### Быстрый старт

Для того, чтобы начать работать с Entity Framework, вам понадобится развёрнутая база данных -- пустая или заполненная в зависимости от выбранного подхода к разработке. Кроме этого, конечно же, необходимы Visual Studio -- для написания кода на C# и MS SQL Management Studio для работы с базой данных.

Для того, чтобы ваш проект мог работать с базой данных через Entity Framework, вам необходимо установить в свой проект NuGet пакет Entity Framework 6 следующим образом:

1. ПКМ по проекту, затем, в контекстном меню нужно выбрать "Manage NuGet packages"![Manage NuGet packages](img/manageNuGet.png)
2. В менеджере пакетов перейти на вкладку "Browse", найти  EntityFramework и нажать кнопку "Установить".
   Стоит отметить, что, возможно,  Entity Framework уже установлен в ваш проект, в таком случае вы можете его обновить.
   ![Package Manager](img/installNuGet.png)

Поздравляю, мы сделали самое важное -- положили начало продуктивной работе над приложением базы данных.

## Database first

### Описание метода

### Пререквизиты

#### Задания

## Model first

### Описание метода

### Пререквизиты

#### Задания

## Code first

### Описание метода

### Пререквизиты

#### Задания



